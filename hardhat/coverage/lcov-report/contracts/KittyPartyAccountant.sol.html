<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/KittyPartyAccountant.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">contracts/</a> KittyPartyAccountant.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/48</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/10</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/14</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/48</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// SPDX-License-Identifier: BSL
pragma solidity ^0.8.2;
&nbsp;
import "@openzeppelin/contracts/token/ERC1155/ERC1155.sol";
import "@openzeppelin/contracts/token/ERC20/IERC20.sol";
import "@openzeppelin/contracts/access/AccessControl.sol";
import "@openzeppelin/contracts/security/Pausable.sol";
import "@openzeppelin/contracts/token/ERC1155/extensions/ERC1155Burnable.sol";
&nbsp;
import "hardhat/console.sol";
&nbsp;
import "./interfaces/IKittens.sol";
&nbsp;
contract KittyPartyAccountant is ERC1155, AccessControl, Pausable, ERC1155Burnable {
    bytes32 public constant URI_SETTER_ROLE = keccak256("URI_SETTER_ROLE");
    bytes32 public constant PAUSER_ROLE = keccak256("PAUSER_ROLE");
    bytes32 public constant MINTER_ROLE = keccak256("MINTER_ROLE");
    bytes32 public constant GUARDIAN_ROLE = keccak256("GUARDIAN_ROLE");
    bytes32 public constant GUARDIAN_CONTRACT_SETTER_ROLE = keccak256("GUARDIAN_CONTRACT_SETTER_ROLE");
    
    ///@dev This is the token that will be given to users which allows them to withdraw their earnings and winnings
    ///@dev The withdrawals will be from the treasury
    ///@dev Besides this every kitty party will mint Non Fungible Tokens and send it to the kitten who successfully completed the rounds
&nbsp;
    uint256 public constant KITTYPARTYRECEIPT = 0; //ERC 20 DAI -&gt; 10000.0012
    uint256 public constant PLANETARY = 1; //Anyone can join and create a Planetary system
    uint256 public constant STELLAR = 2; // To create a Stellar Civilization need 1 guardian blessing
    uint256 public constant GALACTIC = 3; // To create a Galactic Civilization needs at least 5 guardians blessing
    uint256 public constant KREATOR = 4;
&nbsp;
    IERC20 public kittyPartyToken;
&nbsp;
    address public factoryContract;
    address public treasuryContract;
&nbsp;
    event WinningKittenSelected(address kitten, address kittyparty);
    event CompletionBadgesMinted(address kitten, address kittyparty);
&nbsp;
<span class="fstat-no" title="function not covered" >    constructor(address _kittyPartyTokenAddress) ERC1155("https://bafkreiccrhwd6nbuxmytylzemgzkkzoeiw3mmmsry4v47mf5wdkz3fcnim.ipfs.dweb.link") {</span>
        //Admin role will be assigned later to the factory contract in deployment script
<span class="cstat-no" title="statement not covered" >        _setupRole(DEFAULT_ADMIN_ROLE, msg.sender)</span>;
<span class="cstat-no" title="statement not covered" >        _setupRole(URI_SETTER_ROLE, msg.sender)</span>;
<span class="cstat-no" title="statement not covered" >        _setupRole(PAUSER_ROLE, msg.sender)</span>;
        //Minter role will be given to the cloned kitty parties
<span class="cstat-no" title="statement not covered" >        _setupRole(MINTER_ROLE, msg.sender)</span>;
        //mint one $10 token receipt to the deployer
<span class="cstat-no" title="statement not covered" >        _mint(msg.sender, KITTYPARTYRECEIPT, 10, "")</span>;
        //mint NFT badges for completion and based on value
<span class="cstat-no" title="statement not covered" >        kittyPartyToken = IERC20(_kittyPartyTokenAddress)</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function __KittyPartyAccountant_init(address _factoryContract) </span>
        external 
        onlyRole(DEFAULT_ADMIN_ROLE) 
    {
        //TODO: Check add init check so that this will be only called once
<span class="cstat-no" title="statement not covered" >        factoryContract = _factoryContract</span>;
<span class="cstat-no" title="statement not covered" >        _mint(_factoryContract, PLANETARY, 10**18, "")</span>;
<span class="cstat-no" title="statement not covered" >        _mint(_factoryContract, STELLAR, 10**12, "")</span>;
<span class="cstat-no" title="statement not covered" >        _mint(_factoryContract, GALACTIC, 10**9, "")</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function mintToWinners(</span>
        address litterAddress, 
        address kittyParty, 
        uint256[] memory winnerIndexes, 
        uint256 amountToSent
    ) 
        external 
        onlyRole(MINTER_ROLE)
    {
<span class="cstat-no" title="statement not covered" >        bytes memory getList = abi.encodeWithSignature("getList(address)", kittyParty);</span>
<span class="cstat-no" title="statement not covered" >        (bool success, bytes memory kittensList) = address(litterAddress).staticcall(getList);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        require(success, "GE")</span>;
<span class="cstat-no" title="statement not covered" >        (IKittens.Kitten[] memory kittens_) = abi.decode(kittensList, (IKittens.Kitten[]));</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            for (uint i = 0; i &lt; winnerIndexes.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >                IKittens.Kitten memory localKitten = kittens_[i];</span>
<span class="cstat-no" title="statement not covered" >                mint(localKitten.kitten, 0, amountToSent, "")</span>;
<span class="cstat-no" title="statement not covered" >                emit WinningKittenSelected(localKitten.kitten, kittyParty);</span>
            }
    }
&nbsp;
    /**
    @dev This is to be called by the Kitty party controller in order to safe transfer NFT badges to all the participants of a completed party
    @notice This is the badge that says the kitten is an active citizen of that world
    */
<span class="fstat-no" title="function not covered" >    function transferBadgesOnCompletion(</span>
        address litterAddress, 
        address kittyParty
    ) 
        external 
        onlyRole(MINTER_ROLE)
    {
<span class="cstat-no" title="statement not covered" >        bytes memory getList = abi.encodeWithSignature("getList(address)", kittyParty);</span>
<span class="cstat-no" title="statement not covered" >        (bool success, bytes memory kittensList) = address(litterAddress).staticcall(getList);</span>
<span class="cstat-no" title="statement not covered" >        require(success, "GE")</span>;
<span class="cstat-no" title="statement not covered" >        (IKittens.Kitten[] memory kittens_) = abi.decode(kittensList, (IKittens.Kitten[]));</span>
<span class="cstat-no" title="statement not covered" >            for (uint i = 0; i &lt; kittens_.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >                IKittens.Kitten memory localKitten = kittens_[i];</span>
<span class="cstat-no" title="statement not covered" >                safeTransferFrom(factoryContract, localKitten.kitten, 1, 1, "0x0")</span>;
<span class="cstat-no" title="statement not covered" >                emit CompletionBadgesMinted(localKitten.kitten, kittyParty);</span>
            }
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function setupMinter(address kittyParty)</span>
        external 
        onlyRole(DEFAULT_ADMIN_ROLE) 
    {
<span class="cstat-no" title="statement not covered" >        _setupRole(MINTER_ROLE, kittyParty)</span>;
        //Give approval to the child Contract to move factory tokens
<span class="cstat-no" title="statement not covered" >        setApprovalForAll(kittyParty,true)</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function setTreasury(address _treasuryContract)</span>
        external
        onlyRole(DEFAULT_ADMIN_ROLE)
    {
<span class="cstat-no" title="statement not covered" >        treasuryContract = _treasuryContract</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function setupGuardian(address guardianNFTContract)</span>
        external 
        onlyRole(GUARDIAN_CONTRACT_SETTER_ROLE) 
    {
<span class="cstat-no" title="statement not covered" >        _setupRole(GUARDIAN_ROLE, guardianNFTContract)</span>;
        //Give approval to the child Contract to move factory tokens
<span class="cstat-no" title="statement not covered" >        setApprovalForAll(guardianNFTContract,true)</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function setURI(string memory newuri) public onlyRole(URI_SETTER_ROLE) {</span>
<span class="cstat-no" title="statement not covered" >        _setURI(newuri)</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function pause() public onlyRole(PAUSER_ROLE) {</span>
<span class="cstat-no" title="statement not covered" >        _pause()</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function unpause() public onlyRole(PAUSER_ROLE) {</span>
<span class="cstat-no" title="statement not covered" >        _unpause()</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function mint(</span>
        address account, 
        uint256 id, uint256 amount, 
        bytes memory data
    )
        public
        onlyRole(MINTER_ROLE)
    {
<span class="cstat-no" title="statement not covered" >        _mint(account, id, amount, data)</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function mintBatch(</span>
        address to, 
        uint256[] memory ids, 
        uint256[] memory amounts, 
        bytes memory data
    )
        public
        onlyRole(MINTER_ROLE)
    {
<span class="cstat-no" title="statement not covered" >        _mintBatch(to, ids, amounts, data)</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function _beforeTokenTransfer(</span>
        address operator, 
        address from, 
        address to, 
        uint256[] memory ids, 
        uint256[] memory amounts, 
        bytes memory data
    )
        internal
        whenNotPaused
        override
    {
        //If this is STELLAR OR GALACTIC TOKEN require that a transfer of X KPT TOKENS which is based on remaining GALACTIC OR STELLAR TOKEN
<span class="cstat-no" title="statement not covered" >         bool flag = false;</span>
<span class="cstat-no" title="statement not covered" >         for (uint i = 0; i &lt; ids.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >            if(ids[i] &gt;= 2){</span>
<span class="cstat-no" title="statement not covered" >                flag = true</span>;
            }
         }
<span class="cstat-no" title="statement not covered" >         if(flag == true) {</span>
            //pay some dark matter to the universe
<span class="cstat-no" title="statement not covered" >            _checkRole(keccak256("GUARDIAN_ROLE"), msg.sender)</span>;
<span class="cstat-no" title="statement not covered" >            uint stellarBalance = balanceOf(factoryContract, 2);</span>
<span class="cstat-no" title="statement not covered" >            uint galacticBalance = balanceOf(factoryContract, 3);</span>
            //Find a curve that makes sense and put formula below
<span class="cstat-no" title="statement not covered" >            uint amountRequired = ((10**21)/(stellarBalance + galacticBalance + 1)) + 10 ether ;</span>
<span class="cstat-no" title="statement not covered" >            require(kittyPartyToken.transferFrom(address(msg.sender), address(treasuryContract), amountRequired), 'KP Token Transfer Failed')</span>;
         }
<span class="cstat-no" title="statement not covered" >        super._beforeTokenTransfer(operator, from, to, ids, amounts, data)</span>;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function supportsInterface(bytes4 interfaceId)</span>
        public
        view
        override(ERC1155, AccessControl)
        returns (bool)
    {
<span class="cstat-no" title="statement not covered" >        return super.supportsInterface(interfaceId);</span>
    }
}</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Mon Sep 20 2021 19:11:10 GMT+0800 (Singapore Standard Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
